var Homepage={initialize:function(){var t=this,i=window.location.pathname;"/partner"===i?this.loadPartner():(this.loadTopMenu(),this.loadHomeSlider(),this.loadPartnerSection(),this.loadStepSection(),this.loadPackageSection(),this.loadDonasiSection()),this.loadFooterFirstSection(),this.loadFooterSecondSection(),this.loadFooterActionSection(),this.loadFooterIdentitySection(),$("#register_form").submit(function(){return"/partner"===i?(console.log("partner form"),t.submitPartner(this)):(console.log("customer form"),t.submitCustomer(this)),!1})},loadTopMenu:function(){$.getJSON("/home/list-menus/TOP-MENU",function(t){var i=0;$.each(t.RESULTS,function(t,o){i>0&&$("#menu-top").append("<span> | </span>"),$("#menu-top").append('<a href="'+o.url+'">'+o.title+"</a>"),i++})})},loadHomeSlider:function(){$.getJSON("/home/home-slider",function(t){$.each(t.RESULTS,function(t,i){$("#home-slider").append('<div class="slider-item"><div class="img-cont"><img src="/public/images?path='+i.imagePath+'" alt="'+i.title+'" ></img></div></div>')}),$("#home-slider").slick({dots:!0,arrows:!1,infinite:!0,speed:300,autoplay:!0,autoplaySpeed:7e3,slidesToShow:1})})},loadPartnerSection:function(){$.getJSON("/home/list-menus/PARTNER-SECTION",function(t){var i=Math.ceil(12/t.RESULTS.length),o=Math.ceil(24/t.RESULTS.length);$.each(t.RESULTS,function(t,e){$("#section-partner-points-header").html(e.title),$("#section-partner-points-body").append('<div class="col-md-'+i+" col-sm-"+o+" col-xs-"+o+'"><div class="img-cont"><img src="'+e.imagePath+'" alt="'+e.shortDescription+'"/></div><div class="text-cont">'+e.description+"</div></div>")})})},loadStepSection:function(){$.getJSON("/home/list-menus/STEP-SECTION",function(t){var i=!1,o='<a data-toggle="modal" data-target="#modalform">',e="</a>",a="",n="";$.each(t.RESULTS,function(t,s){n=s.title,s.shortDescription&&!i?(a+='<div class="col-xs-12 margin-bottom20"><div class="row no-margin"><div class="col-xs-6 no-padding"><div class="img-cont">'+(s.dataHref?o:"")+'<div class="text-cont '+(s.dataHref?"type2":"")+'">'+s.title+'</div><img src="'+s.imagePath+'" alt=""/></div>'+(s.dataHref?e:"")+"</div>",i=!0):s.shortDescription&&i?(a+='<div class="col-xs-6 no-padding"><div class="img-cont">'+(s.dataHref?o:"")+'<div class="text-cont '+(s.dataHref?"type2":"")+'">'+s.title+'</div><img src="'+s.imagePath+'" alt=""/></div></div>'+(s.dataHref?e:"")+"</div></div>",i=!1):a+='<div class="col-xs-12 margin-bottom20"><div class="img-cont">'+(s.dataHref?o:"")+'<div class="text-cont '+(s.dataHref?"type2":"")+'">'+s.title+'</div><img src="'+s.imagePath+'" alt=""/></div>'+(s.dataHref?e:"")+"</div>"}),$("#step-section-points-header").html(n),$("#step-section-points-body").append(a)})},loadPackageSection:function(){var t=$("#first-package"),i='<div class="content">',o=!0,e=$("#second-package"),a='<div class="content">',n='<div class="text-info"><ul>',s=!0;$.getJSON("/home/list-menus/PACKAGE-SECTION",function(l){var d=1;$.each(l.RESULTS,function(l,c){"Paket Berkah"==c.title?(o&&(t.append('<div class="title bg-orange">'+c.title+"</div>"),o=!1),i+='<div class="content-list"><div class="number">Berkah <span>'+c.orders+'</span></div><div class="right">'+c.description+"</div></div>"):(s&&(e.append('<div class="title bg-tosca">'+c.title+"</div>"),a+='<div class="orange-box"><div class="row no-margin">',s=!1),c.description&&(a+=d%2==1?'<div class="col-sm-4 list"><div class="row no-padding"><div class="col-xs-4 no-padding"><img src="'+c.imagePath+'" alt=""/></div><div class="col-xs-8 "><div class="text-cont">'+c.description+"</div></div></div></div>":'<div class="col-sm-8 list"><div class="row no-padding"><div class="col-sm-2 col-xs-4 no-padding"><img src="'+c.imagePath+'" alt=""/></div><div class="col-sm-10 col-xs-8 no-padding"><div class="text-cont type2">'+c.description+"</div></div></div></div>",d++),c.shortDescription&&(n+="<li>"+c.shortDescription+"</li>"))}),i+="</div>",t.append(i),a+="</div></div>",n+="</ul></div></div>",e.append(a+n)})},loadDonasiSection:function(){$.getJSON("/home/list-menus/DONASI-SECTION",function(t){$.each(t.RESULTS,function(t,i){$("#section-donasi-header").html(i.title),$("#section-donasi-body").append('<div class="row border-box bg-blue"><div class="col-sm-4 left"><div class="img-cont"><img src="'+i.imagePath+'" alt=""/></div></div><div class="col-sm-8"><p>'+i.description+"</p></div></div>")})})},loadFooterFirstSection:function(){$.getJSON("/home/list-menus/FOOTER-FIRST-SECTION",function(t){var i=!0,o="";$.each(t.RESULTS,function(t,e){i?($("#footer-first-section").append('<h3 class="footer-title">'+e.title+"</h3>"),o+='<ul class="footer-links">',i=!1):o+="<li>"+(null!=e.url?'<a href="'+e.url+'">':"")+e.title+(null!=e.url?"</a>":"")+"</li>"}),o+="</ul>",$("#footer-first-section").append(o)})},loadFooterSecondSection:function(){$.getJSON("/home/list-menus/FOOTER-SECOND-SECTION",function(t){var i=!0,o="";$.each(t.RESULTS,function(t,e){i?($("#footer-second-section").append('<h3 class="footer-title">'+e.title+"</h3>"),o+='<ul class="footer-links">',i=!1):o+="<li>"+(null!=e.url?'<a href="'+e.url+'">':"")+e.title+(null!=e.url?"</a>":"")+"</li>"}),o+="</ul>",$("#footer-second-section").append(o)})},loadFooterActionSection:function(){$.getJSON("/home/list-menus/FOOTER-ACTION-SECTION",function(t){$.each(t.RESULTS,function(t,i){$("#footer-action-section").append('<div class="footer-item"><h3 class="footer-title">'+i.title+'</h3><ul class="footer-links"><li><a href="'+i.url+'">'+i.shortDescription+"</a></li></ul></div>")})})},loadFooterIdentitySection:function(){var t='<div class="footer-item"><ul class="footer-social">';$.getJSON("/home/list-menus/FOOTER-IDENTITY-SECTION",function(i){$.each(i.RESULTS,function(i,o){o.imagePath?t+='<li><a href="'+o.url+'" target="_blank"><i class="'+o.imagePath+'"></i></a></li>':$("#footer-identity-section").append('<div class="footer-item"><h3 class="footer-title">'+o.title+'</h3><ul class="footer-links"><li><p>'+o.shortDescription+"</p></li></ul></div>")}),t+="</ul></div>",$("#footer-identity-section").append(t)})},submitCustomer:function(t){var i={};$(t).serializeArray().map(function(t){i[t.name]=t.value}),i=JSON.stringify(i),$.ajax({dataType:"json",contentType:"application/json",type:"POST",url:"/home/add-customer",data:i,success:function(t){$("#modalthanks").modal("show"),$("#modalform").modal("hide")},error:function(t){$("#modalfailed").modal("show"),$("#modalform").modal("hide")}})},loadPartner:function(){$.getJSON("/home/list-partner",function(t){$.each(t.RESULTS,function(t,i){$("#avatar-path").append('<img src="'+i.avatarPath+'" alt="" />'),$("#content").html(i.content),$("#address").html(i.address)})})},submitPartner:function(t){var i={};$(t).serializeArray().map(function(t){i[t.name]=t.value}),i=JSON.stringify(i),$.ajax({dataType:"json",contentType:"application/json",type:"POST",url:"/home/add-partner",data:i,success:function(t){$("#modalthanks").modal("show"),$("#modalpartnerform").modal("hide")},error:function(t){$("#modalfailed").modal("show"),$("#modalpartnerform").modal("hide")}})}};$(document).ready(function(){Homepage.initialize()});