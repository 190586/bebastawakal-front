var Homepage={initialize:function(){var e=this,o=window.location.pathname;o.indexOf("/partner")>0?this.loadPartner():(this.loadTopMenu(),this.loadHomeSlider(),this.loadPartnerSection(),this.loadStepSection(),this.loadPackageSection(),this.loadDonasiSection()),this.loadFooterFirstSection(),this.loadFooterSecondSection(),this.loadFooterActionSection(),this.loadFooterIdentitySection(),$("#register_form").submit(function(){return o.indexOf("/partner")>0?e.submitPartner(this):e.submitCustomer(this),!1})},loadTopMenu:function(){$.getJSON("home/list-menus/TOP-MENU",function(e){var o=0;$.each(e.RESULTS,function(e,a){o>0&&$("#menu-top").append("<span> | </span>"),$("#menu-top").append('<a href="'+a.url+'">'+a.title+"</a>"),o++})})},loadHomeSlider:function(){$.getJSON("home/home-slider",function(e){$.each(e.RESULTS,function(e,o){$("#home-slider").append('<div class="slider-item"><div class="img-cont"><img src="'+o.imagePath+'" alt="'+o.title+'" ></img></div></div>')}),$("#home-slider").slick({dots:!0,arrows:!1,infinite:!0,speed:300,autoplay:!0,autoplaySpeed:7e3,slidesToShow:1})})},loadPartnerSection:function(){$.getJSON("home/list-menus/PARTNER-SECTION",function(e){var o=Math.ceil(12/e.RESULTS.length),a=Math.ceil(24/e.RESULTS.length);$.each(e.RESULTS,function(e,t){$("#section-partner-points-header").html(t.title),$("#section-partner-points-body").append('<div class="col-md-'+o+" col-sm-"+a+" col-xs-"+a+'"><div class="img-cont"><img src="'+t.imagePath+'" alt="'+t.shortDescription+'"/></div><div class="text-cont">'+t.description+"</div></div>")})})},loadStepSection:function(){$.getJSON("home/list-menus/STEP-SECTION",function(e){var o=!1,a='<a data-toggle="modal" data-target="#modalform">',t="</a>",i="",r="";$.each(e.RESULTS,function(e,n){r=n.title,n.shortDescription&&!o?(i+='<div class="col-xs-12 margin-bottom20"><div class="row no-margin"><div class="col-xs-6 no-padding"><div class="img-cont">'+(n.dataHref?a:"")+'<div class="text-cont '+(n.dataHref?"type2":"")+'">'+n.title+'</div><img src="'+n.imagePath+'" alt=""/></div>'+(n.dataHref?t:"")+"</div>",o=!0):n.shortDescription&&o?(i+='<div class="col-xs-6 no-padding"><div class="img-cont">'+(n.dataHref?a:"")+'<div class="text-cont '+(n.dataHref?"type2":"")+'">'+n.title+'</div><img src="'+n.imagePath+'" alt=""/></div></div>'+(n.dataHref?t:"")+"</div></div>",o=!1):i+='<div class="col-xs-12 margin-bottom20"><div class="img-cont">'+(n.dataHref?a:"")+'<div class="text-cont '+(n.dataHref?"type2":"")+'">'+n.title+'</div><img src="'+n.imagePath+'" alt=""/></div>'+(n.dataHref?t:"")+"</div>"}),$("#step-section-points-header").html(r),$("#step-section-points-body").append(i)})},loadPackageSection:function(){var e=$("#first-package"),o='<div class="content">',a=!0,t=$("#second-package"),i='<div class="content">',r='<div class="text-info"><ul>',n=!0;$.getJSON("home/list-menus/PACKAGE-SECTION",function(s){var l=1;$.each(s.RESULTS,function(s,c){"Paket Berkah"==c.title?(a&&(e.append('<div class="title bg-orange">'+c.title+"</div>"),a=!1),o+='<div class="content-list"><div class="number">Berkah <span>'+c.orders+'</span></div><div class="right">'+c.description+"</div></div>"):(n&&(t.append('<div class="title bg-tosca">'+c.title+"</div>"),i+='<div class="orange-box"><div class="row no-margin">',n=!1),c.description&&(i+=l%2==1?'<div class="col-sm-4 list"><div class="row no-padding"><div class="col-xs-4 no-padding"><img src="'+c.imagePath+'" alt=""/></div><div class="col-xs-8 "><div class="text-cont">'+c.description+"</div></div></div></div>":'<div class="col-sm-8 list"><div class="row no-padding"><div class="col-sm-2 col-xs-4 no-padding"><img src="'+c.imagePath+'" alt=""/></div><div class="col-sm-10 col-xs-8 no-padding"><div class="text-cont type2">'+c.description+"</div></div></div></div>",l++),c.shortDescription&&(r+="<li>"+c.shortDescription+"</li>"))}),o+="</div>",e.append(o),i+="</div></div>",r+="</ul></div></div>",t.append(i+r)})},loadDonasiSection:function(){$.getJSON("home/list-menus/DONASI-SECTION",function(e){$.each(e.RESULTS,function(e,o){$("#section-donasi-header").html(o.title),$("#section-donasi-body").append('<div class="row border-box bg-blue"><div class="col-sm-4 left"><div class="img-cont"><img src="'+o.imagePath+'" alt=""/></div></div><div class="col-sm-8"><p>'+o.description+"</p></div></div>")})})},loadFooterFirstSection:function(){$.getJSON("home/list-menus/FOOTER-FIRST-SECTION",function(e){var o=!0,a="";$.each(e.RESULTS,function(e,t){o?($("#footer-first-section").append('<h3 class="footer-title">'+t.title+"</h3>"),a+='<ul class="footer-links">',o=!1):a+="<li>"+(null!=t.url?'<a href="'+t.url+'">':"")+t.title+(null!=t.url?"</a>":"")+"</li>"}),a+="</ul>",$("#footer-first-section").append(a)})},loadFooterSecondSection:function(){$.getJSON("home/list-menus/FOOTER-SECOND-SECTION",function(e){var o=!0,a="";$.each(e.RESULTS,function(e,t){o?($("#footer-second-section").append('<h3 class="footer-title">'+t.title+"</h3>"),a+='<ul class="footer-links">',o=!1):a+="<li>"+(null!=t.url?'<a href="'+t.url+'">':"")+t.title+(null!=t.url?"</a>":"")+"</li>"}),a+="</ul>",$("#footer-second-section").append(a)})},loadFooterActionSection:function(){$.getJSON("home/list-menus/FOOTER-ACTION-SECTION",function(e){$.each(e.RESULTS,function(e,o){$("#footer-action-section").append('<div class="footer-item"><h3 class="footer-title">'+o.title+'</h3><ul class="footer-links"><li><a href="'+o.url+'">'+o.shortDescription+"</a></li></ul></div>")})})},loadFooterIdentitySection:function(){var e='<div class="footer-item"><ul class="footer-social">';$.getJSON("home/list-menus/FOOTER-IDENTITY-SECTION",function(o){$.each(o.RESULTS,function(o,a){a.imagePath?e+='<li><a href="'+a.url+'" target="_blank"><i class="'+a.imagePath+'"></i></a></li>':$("#footer-identity-section").append('<div class="footer-item"><h3 class="footer-title">'+a.title+'</h3><ul class="footer-links"><li><p>'+a.shortDescription+"</p></li></ul></div>")}),e+="</ul></div>",$("#footer-identity-section").append(e)})},initCustomer:function(){$("#input_name").val(""),$("span.help-block.form-error.name-error").html(""),$("#input_phone").val(""),$("span.help-block.form-error.phone-error").html(""),$("#input_email").val(""),$("span.help-block.form-error.email-error").html(""),$("#submit_form").show(),$("#form_loader").hide(),$("#modalform").modal("show")},submitCustomer:function(e){var o={},a="",t="";$(e).serializeArray().map(function(e){"g-recaptcha-response"==e.name?a=e.value:"_csrf"==e.name?t=e.value:o[e.name]=e.value}),o.name&&o.phone&&o.email&&grecaptcha.getResponse()?(o=JSON.stringify(o),$("#submit_form").hide(),$("#form_loader").show(),$.ajax({dataType:"json",contentType:"application/json",type:"POST",url:"home/add-customer?g-recaptcha-response="+a+"&_csrf="+t,data:o,success:function(e){$("#modalthanks").modal("show"),$("#modalform").modal("hide")},error:function(e){$("#modalfailed").modal("show"),$("#modalform").modal("hide")}}),$("#submit_form").show(),$("#form_loader").hide()):(o.name?$("span.help-block.form-error.name-error").html(""):$("span.help-block.form-error.name-error").html("Nama Harus Dimasukkan"),o.phone?$("span.help-block.form-error.phone-error").html(""):$("span.help-block.form-error.phone-error").html("Telepon Harus Dimasukkan"),o.email?$("span.help-block.form-error.email-error").html(""):$("span.help-block.form-error.email-error").html("Email Harus Dimasukkan"),grecaptcha.getResponse()&&$("span.help-block.form-error.captcha-error").html("Captcha Harus Dipilih"))},loadPartner:function(){$.getJSON("home/list-partner",function(e){$.each(e.RESULTS,function(e,o){$("#avatar-path").append('<img src="'+o.avatarPath+'" alt="" />'),$("#content").html(o.content),$("#address").html(o.address)})})},initPartner:function(){$("#name").val(""),$("span.help-block.form-error.name-error").html(""),$("#companyName").val(""),$("span.help-block.form-error.companyname-error").html(""),$("#phone").val(""),$("span.help-block.form-error.phone-error").html(""),$("#email").val(""),$("span.help-block.form-error.email-error").html(""),$("#submit_form").show(),$("#form_loader").hide(),$("#modalpartnerform").modal("show")},submitPartner:function(e){var o={},a="",t="";$(e).serializeArray().map(function(e){"g-recaptcha-response"==e.name?a=e.value:"_csrf"==e.name?t=e.value:o[e.name]=e.value}),o.name&&o.companyName&&o.phone&&o.email&&grecaptcha.getResponse()?(o=JSON.stringify(o),$("#submit_form").hide(),$("#form_loader").show(),$.ajax({dataType:"json",contentType:"application/json",type:"POST",url:"home/add-partner?g-recaptcha-response="+a+"&_csrf="+t,data:o,success:function(e){$("#modalpartnerthanks").modal("show"),$("#modalpartnerform").modal("hide")},error:function(e){$("#modalfailed").modal("show"),$("#modalpartnerform").modal("hide")}}),$("#submit_form").show(),$("#form_loader").hide()):(o.name?$("span.help-block.form-error.name-error").html(""):$("span.help-block.form-error.name-error").html("Nama Harus Dimasukkan"),o.companyName?$("span.help-block.form-error.companyname-error").html(""):$("span.help-block.form-error.companyname-error").html("Nama Perusahaan Harus Dimasukkan"),o.phone?$("span.help-block.form-error.phone-error").html(""):$("span.help-block.form-error.phone-error").html("Telepon Harus Dimasukkan"),o.email?$("span.help-block.form-error.email-error").html(""):$("span.help-block.form-error.email-error").html("Email Harus Dimasukkan"),grecaptcha.getResponse()&&$("span.help-block.form-error.captcha-error").html("Captcha Harus Dipilih"))}};$(document).ready(function(){Homepage.initialize()});