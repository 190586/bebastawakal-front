var Homepage={initialize:function(){var o=this,e=window.location.pathname;e.indexOf("/partner")>0?this.loadPartner():(this.loadHomeSlider(),this.loadPartnerSection(),this.loadStepSection(),this.loadPackageSection(),this.loadDonationSection()),this.loadTopMenu(),this.loadFooterFirstSection(),this.loadFooterSecondSection(),this.loadFooterActionSection(),this.loadFooterIdentitySection(),$("#register_form").submit(function(){return e.indexOf("/partner")>0?o.submitPartner(this):o.submitCustomer(this),!1})},loadTopMenu:function(){$.getJSON("home/list-menus/TOP-MENU",function(o){var e=0;$.each(o.RESULTS,function(o,a){e>0&&$("#menu-top").append("<span> | </span>"),$("#menu-top").append('<a href="'+a.url+'">'+a.title+"</a>"),e++})})},loadHomeSlider:function(){$.getJSON("home/home-slider",function(o){$.each(o.RESULTS,function(o,e){$("#home-slider").append('<div class="slider-item"><div class="img-cont"><img src="'+e.imagePath+'" alt="'+e.title+'" ></img></div></div>')}),$("#home-slider").slick({dots:!0,arrows:!1,infinite:!0,speed:300,autoplay:!0,autoplaySpeed:7e3,slidesToShow:1})})},loadPartnerSection:function(){$.getJSON("home/list-menus/PARTNER-SECTION",function(o){var e=Math.ceil(12/o.RESULTS.length),a=Math.ceil(24/o.RESULTS.length);$.each(o.RESULTS,function(o,t){for(var r=t.title.split(" "),n="",i="",l=0;l<r.length;l++)l<r.length/2?n+=r[l]+" ":i+=r[l]+" ";n='<span class="font-orange">'+n+"</span>",$("#section-partner-points-header").html(n+i),$("#section-partner-points-body").append('<div class="col-md-'+e+" col-sm-"+a+" col-xs-"+a+'"><div class="img-cont"><img src="'+t.imagePath+'" alt="'+t.shortDescription+'"/></div><div class="text-cont">'+t.description+"</div></div>")})})},loadStepSection:function(){$.getJSON("home/list-menus/STEP-SECTION",function(o){var e=!1,a="",t="</a>",r="",n="";$.each(o.RESULTS,function(o,i){n=i.title,i.url&&(a=i.dataHref?'<a data-toggle="modal" data-target="'+i.url+'">':'<a href="'+i.url+'">'),i.shortDescription&&!e?(r+='<div class="col-xs-12 margin-bottom20"><div class="row no-margin"><div class="col-xs-6 no-padding"><div class="img-cont">'+(i.url?a:"")+'<div class="text-cont">'+i.shortDescription+'</div><img src="'+i.imagePath+'" alt=""/></div>'+(i.url?t:"")+"</div>",e=!0):i.shortDescription&&e?(r+='<div class="col-xs-6 no-padding"><div class="img-cont">'+(i.url?a:"")+'<div class="text-cont">'+i.shortDescription+'</div><img src="'+i.imagePath+'" alt=""/></div></div>'+(i.url?t:"")+"</div></div>",e=!1):r+='<div class="col-xs-12 margin-bottom20"><div class="img-cont">'+(i.url?a:"")+'<div class="text-cont">'+i.description+'</div><img src="'+i.imagePath+'" alt=""/></div>'+(i.url?t:"")+"</div>"}),$("#step-section-points-header").html(n),$("#step-section-points-body").append(r)})},loadPackageSection:function(){var o=$("#package-section"),e='<div class="content">';$.getJSON("home/list-menus/PACKAGE-SECTION",function(a){var t=1;$.each(a.RESULTS,function(a,r){1==t&&o.append('<div class="title bg-orange">'+r.title+"</div>"),e+='<div class="content-list"><div class="number">Barakah <span>'+r.orders+'</span></div><div class="right">'+r.description+"</div></div>",t++}),e+="</div>",o.append(e)})},loadDonationSection:function(){var o=$("#donation-section"),e='<div class="content">';$.getJSON("home/list-menus/DONATION-SECTION",function(a){var t=1;$.each(a.RESULTS,function(a,r){1==t&&o.append('<div class="title bg-tosca">'+r.title+"</div>"),e+='<div class="logo-box text-center margin-bottom50"><div class="img-cont for__dompetduafa"><img src="'+r.imagePath+'" alt=""></div></div>',e+='<div class="orange-box"><div class="text-box"><p>'+r.description+"</p></div></div>",t++}),e+="</div>",o.append(e)})},loadFooterFirstSection:function(){$.getJSON("home/list-menus/FOOTER-FIRST-SECTION",function(o){var e=!0,a="";$.each(o.RESULTS,function(o,t){e?($("#footer-first-section").append('<h3 class="footer-title">'+t.title+"</h3>"),a+='<ul class="footer-links">',e=!1):a+="<li>"+(null!=t.url?'<a href="'+t.url+'">':"")+t.title+(null!=t.url?"</a>":"")+"</li>"}),a+="</ul>",$("#footer-first-section").append(a)})},loadFooterSecondSection:function(){$.getJSON("home/list-menus/FOOTER-SECOND-SECTION",function(o){var e=!0,a="";$.each(o.RESULTS,function(o,t){e?($("#footer-second-section").append('<h3 class="footer-title">'+t.title+"</h3>"),a+='<ul class="footer-links">',e=!1):a+="<li>"+(null!=t.url?'<a href="'+t.url+'">':"")+t.title+(null!=t.url?"</a>":"")+"</li>"}),a+="</ul>",$("#footer-second-section").append(a)})},loadFooterActionSection:function(){$.getJSON("home/list-menus/FOOTER-ACTION-SECTION",function(o){$.each(o.RESULTS,function(o,e){$("#footer-action-section").append('<div class="footer-item"><h3 class="footer-title">'+e.title+'</h3><ul class="footer-links"><li><a href="'+e.url+'">'+e.shortDescription+"</a></li></ul></div>")})})},loadFooterIdentitySection:function(){var o='<div class="footer-item"><ul class="footer-social">';$.getJSON("home/list-menus/FOOTER-IDENTITY-SECTION",function(e){$.each(e.RESULTS,function(e,a){a.imagePath?o+='<li><a href="'+a.url+'" target="_blank"><i class="'+a.imagePath+'"></i></a></li>':$("#footer-identity-section").append('<div class="footer-item"><h3 class="footer-title">'+a.title+'</h3><ul class="footer-links"><li><p>'+a.shortDescription+"</p></li></ul></div>")}),o+="</ul></div>",$("#footer-identity-section").append(o)})},initCustomer:function(){$("#input_name").val(""),$("span.help-block.form-error.name-error").html(""),$("#input_phone").val(""),$("span.help-block.form-error.phone-error").html(""),$("#input_email").val(""),$("span.help-block.form-error.email-error").html(""),$("#submit_form").show(),$("#form_loader").hide(),$("#modalform").modal("show")},submitCustomer:function(o){var e={},a="",t="";$(o).serializeArray().map(function(o){"g-recaptcha-response"==o.name?a=o.value:"_csrf"==o.name?t=o.value:e[o.name]=o.value}),e.name&&e.phone&&e.email&&grecaptcha.getResponse()?(e=JSON.stringify(e),$("#submit_form").hide(),$("#form_loader").show(),$.ajax({dataType:"json",contentType:"application/json",type:"POST",url:"home/add-customer?g-recaptcha-response="+a+"&_csrf="+t,data:e,success:function(o){$("#modalthanks").modal("show"),$("#modalform").modal("hide")},error:function(o){$("#modalfailed").modal("show"),$("#modalform").modal("hide")}}),$("#submit_form").show(),$("#form_loader").hide()):(e.name?$("span.help-block.form-error.name-error").html(""):$("span.help-block.form-error.name-error").html("Nama Harus Dimasukkan"),e.phone?$("span.help-block.form-error.phone-error").html(""):$("span.help-block.form-error.phone-error").html("Telepon Harus Dimasukkan"),e.email?$("span.help-block.form-error.email-error").html(""):$("span.help-block.form-error.email-error").html("Email Harus Dimasukkan"),grecaptcha.getResponse()&&$("span.help-block.form-error.captcha-error").html("Captcha Harus Dipilih"))},loadPartner:function(){$.getJSON("home/list-partner",function(o){$.each(o.RESULTS,function(o,e){$("#avatar-path").append('<img src="'+e.avatarPath+'" alt="" />'),$("#content").html(e.content),$("#address").html(e.address)})})},initPartner:function(){$("#name").val(""),$("span.help-block.form-error.name-error").html(""),$("#companyName").val(""),$("span.help-block.form-error.companyname-error").html(""),$("#phone").val(""),$("span.help-block.form-error.phone-error").html(""),$("#email").val(""),$("span.help-block.form-error.email-error").html(""),$("#submit_form").show(),$("#form_loader").hide(),$("#modalpartnerform").modal("show")},submitPartner:function(o){var e={},a="",t="";$(o).serializeArray().map(function(o){"g-recaptcha-response"==o.name?a=o.value:"_csrf"==o.name?t=o.value:e[o.name]=o.value}),e.name&&e.companyName&&e.phone&&e.email&&grecaptcha.getResponse()?(e=JSON.stringify(e),$("#submit_form").hide(),$("#form_loader").show(),$.ajax({dataType:"json",contentType:"application/json",type:"POST",url:"home/add-partner?g-recaptcha-response="+a+"&_csrf="+t,data:e,success:function(o){$("#modalpartnerthanks").modal("show"),$("#modalpartnerform").modal("hide")},error:function(o){$("#modalfailed").modal("show"),$("#modalpartnerform").modal("hide")}}),$("#submit_form").show(),$("#form_loader").hide()):(e.name?$("span.help-block.form-error.name-error").html(""):$("span.help-block.form-error.name-error").html("Nama Harus Dimasukkan"),e.companyName?$("span.help-block.form-error.companyname-error").html(""):$("span.help-block.form-error.companyname-error").html("Nama Perusahaan Harus Dimasukkan"),e.phone?$("span.help-block.form-error.phone-error").html(""):$("span.help-block.form-error.phone-error").html("Telepon Harus Dimasukkan"),e.email?$("span.help-block.form-error.email-error").html(""):$("span.help-block.form-error.email-error").html("Email Harus Dimasukkan"),grecaptcha.getResponse()&&$("span.help-block.form-error.captcha-error").html("Captcha Harus Dipilih"))},floatingButton:function(){if(window.location.pathname.indexOf("/partner")>0){$("#site-container").offset()&&$("#site-container").offset().top;var o=$("#add-partner-button");$(window).scrollTop()<=20?o.hasClass("is-absolute")||o.addClass("is-absolute"):o.hasClass("is-absolute")&&o.removeClass("is-absolute")}else{var e=$(".section-partner").offset()?$(".section-partner").offset().top:0,a=$(window);a.scroll(function(){a.scrollTop()>=e?$(".float").removeClass("is-absolute"):$(".float").addClass("is-absolute")})}}};$(document).ready(function(){Homepage.initialize()}),$(window).scroll(function(){Homepage.floatingButton()});